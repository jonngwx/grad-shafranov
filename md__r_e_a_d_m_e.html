<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>COUGAR: COUGAR User manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Cougar_Nevada_sm.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COUGAR
   &#160;<span id="projectnumber">0.6</span>
   </div>
   <div id="projectbrief">COde Usually Generates Axisymmetric Reconstruction</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">COUGAR User manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Installation: </h2>
<p>To install COUGAR, download the source and ensure the following prerequisites are met</p>
<ul>
<li>c++11 compiler like a recent version of g++</li>
<li>HDF5 (1.8.0) or newer</li>
<li>boost_program_options</li>
<li>boost_math_tr1</li>
<li>boost_unit_test_framework</li>
<li>python 2.7 (with packages numpy, matplotlib and h5py)</li>
</ul>
<p>If HDF5 is unavailable, the code can be compiled without it.</p>
<p>To compile without HDF5, type <code>make</code>. To compile with HDF5, type 'make gs_solver_hdf'.</p>
<p>Testing is performed by typing <code>make runtests</code></p>
<h2>Operation </h2>
<p>In order to run COUGAR, a number of physical parameters must be provided. These are listed here and can also be found by calling the solver with the <code>--help</code> command line option. The parameters can be provided using the command line or a configuration file using the <code>-c</code> flag (the default file is <code>grad-shafranov.cfg</code>). The exact format of the command line options and configuration file is provided in the documentation.</p>
<ul>
<li>Main program and solver configuration: The positions and values of the external currents must be provided in a <code>.tsv</code> file, as must be the positions of the physical limiters. Currents must be outside the computational boundary, while limiters must be at least two cells from the edge of the boundary.</li>
<li><a class="el" href="class_grid.html" title="Stores information about the solution grid. ">Grid</a> and geometry: The computational domain should be specified.</li>
<li>Saddle point initial geometry: The positions of initial guesses for two saddle points of the flux function should be specified. These guesses should be within the computational grid. The saddle points are used to calculate the plasma boundary.</li>
<li>The form and magnitude of the pressure and current: The magnetic field on-axis, pressure on-axis and the exponents for the forms of the pressure and toroidal field distributions should be given.</li>
<li>The initial current distribution: The total current, radius of the initial distribution and location of the centre of current density should be provided.</li>
<li>Output format and frequency: The format of the output, non-standard fields to write and the file name of the output file should be provided. There are also options to write output during the iterative process.</li>
</ul>
<p>To run the code, type </p><pre class="fragment">./gs_solver
</pre><p>with the appropriate command line options. If you specify an illegal value for an option, or a file which does not exist or is not the right format, the program may terminate with an Error message, or with a crash.</p>
<h2>Data analysis </h2>
<p>There are analysis functions provided in python, though the data can be read using any text editor/HDF5 library. The format of each line of the output <code>tsv</code> files is </p><pre class="fragment">[field name]: [data] [data] ... 
</pre><p>in column-major order. The regular expressions for the data can be found in <code><a class="el" href="read__data_8py.html">read_data.py</a></code>. In the <code>tsv</code> file, there is a special field <code>psilo</code> which gives the value of the flux function at the limiter and magnetic axis. These values are listed as attributes of the <code>psi</code> field in the HDF5 output. The plasma boundary is the red line shown in the figure while the magnetic axis is the '+'.</p>
<p>The default plotting option shows Psi, P and g and can be called using </p><pre class="fragment">python python/viz.py &lt;filename&gt; 
</pre><p>There is also a <code>plot</code> script in the main directory which plots the output of <code>cougar.out.tsv</code> automatically.</p>
<h3>Interactive analysis</h3>
<p>We recommend using ipython with pylab to analyse the data interactively. The scripts for reading the data are found in the <code><a class="el" href="namespaceread__data.html">read_data</a></code> package while the plotting scripts are found in the <code>viz</code> package.</p>
<p>To access the data in python, import viz, then use one of </p><pre class="fragment">F = viz.plot(filename, format)
F = read_data.read_text(filename)
F = read_data.read_hdf5(filename)
</pre><p>F will be a dictionary of the grid and data arrays. The value of a field along the midplane can be plotted using </p><pre class="fragment">viz.midplane_plot(F, field_name)</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 15 2015 16:02:19 for COUGAR by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
